{"remainingRequest":"/Users/jinpengxie/Documents/Vue/peipeipei-vue/node_modules/babel-loader/lib/index.js!/Users/jinpengxie/Documents/Vue/peipeipei-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/jinpengxie/Documents/Vue/peipeipei-vue/src/store/modules/cart.js","dependencies":[{"path":"/Users/jinpengxie/Documents/Vue/peipeipei-vue/src/store/modules/cart.js","mtime":1561543472820},{"path":"/Users/jinpengxie/Documents/Vue/peipeipei-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jinpengxie/Documents/Vue/peipeipei-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jinpengxie/Documents/Vue/peipeipei-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find-index\";\nimport Vue from 'vue';\nimport { stat } from 'fs';\nexport default {\n  namespaced: true,\n  state: {\n    cartGoodsItems: [],\n    tempQrCode: null\n  },\n  getters: {\n    checkedTotalPrice: function checkedTotalPrice(state) {\n      return state.cartGoodsItems.filter(function (it) {\n        return it.checked == true;\n      }).reduce(function (pre, cur) {\n        return pre + cur.salePrice * cur.quantity;\n      }, 0).toFixed(1);\n    },\n    orderGoodsItems: function orderGoodsItems(state) {\n      return state.cartGoodsItems.filter(function (it) {\n        return it.checked;\n      });\n    },\n    cartGoodsItemsNum: function cartGoodsItemsNum(state) {\n      return state.cartGoodsItems.length;\n    }\n  },\n  mutations: {\n    addItem2Cart: function addItem2Cart(state, item) {\n      item.quantity = 1;\n      item.checked = true;\n      var index = state.cartGoodsItems.findIndex(function (it) {\n        return it.barCode == item.barCode;\n      });\n      console.log(index);\n      if (index === -1) state.cartGoodsItems.push(item);else if (state.cartGoodsItems[index].quantity < state.cartGoodsItems[index].count) state.cartGoodsItems[index].quantity++;\n    },\n    removeItemFromCart: function removeItemFromCart(state, barCode) {\n      return state.cartGoodsItems = state.cartGoodsItems.filter(function (item) {\n        return item.barCode != barCode;\n      });\n    },\n    clearOrderAndRemoveFromCart: function clearOrderAndRemoveFromCart(state) {\n      return state.cartGoodsItems = state.cartGoodsItems.filter(function (it) {\n        return !it.checked;\n      });\n    },\n    setCartAllChecked: function setCartAllChecked(state, allChecked) {\n      return state.cartGoodsItems = state.cartGoodsItems.map(function (it) {\n        it.checked = allChecked;\n        return it;\n      });\n    },\n    reverseCartItemChecked: function reverseCartItemChecked(state, index) {\n      return state.cartGoodsItems = state.cartGoodsItems.map(function (it, i) {\n        if (index == i) it.checked = !it.checked;\n        return it;\n      });\n    },\n    changeQuantity: function changeQuantity(state, _ref) {\n      var index = _ref.index,\n          quantity = _ref.quantity;\n      // Vue.set(state.cartGoodsItems, index,\n      //     Object.assign({}, state.cartGoodsItems[index], { \"quantity\": quantity }))\n      state.cartGoodsItems = state.cartGoodsItems.map(function (it, i) {\n        if (index == i) it.quantity = quantity;\n        return it;\n      });\n      console.log(state.cartGoodsItems[index]);\n    }\n  },\n  actions: {}\n};",{"version":3,"sources":["/Users/jinpengxie/Documents/Vue/peipeipei-vue/src/store/modules/cart.js"],"names":["Vue","stat","namespaced","state","cartGoodsItems","tempQrCode","getters","checkedTotalPrice","filter","it","checked","reduce","pre","cur","salePrice","quantity","toFixed","orderGoodsItems","cartGoodsItemsNum","length","mutations","addItem2Cart","item","index","findIndex","barCode","console","log","push","count","removeItemFromCart","clearOrderAndRemoveFromCart","setCartAllChecked","allChecked","map","reverseCartItemChecked","i","changeQuantity","actions"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport { stat } from 'fs';\n\nexport default {\n    namespaced: true,\n    state: {\n        cartGoodsItems: [],\n        tempQrCode: null,\n    },\n\n    getters: {\n        checkedTotalPrice: state =>\n            state.cartGoodsItems\n                .filter(it => it.checked == true)\n                .reduce((pre, cur) => pre + cur.salePrice * cur.quantity, 0)\n                .toFixed(1)\n        ,\n        orderGoodsItems: state => state.cartGoodsItems.filter(it => it.checked)\n        ,\n        cartGoodsItemsNum: state => state.cartGoodsItems.length\n\n    },\n    mutations: {\n        addItem2Cart(state, item) {\n            item.quantity = 1;\n            item.checked = true;\n            var index = state.cartGoodsItems.findIndex(it => it.barCode == item.barCode)\n            console.log(index)\n            if (index === -1) state.cartGoodsItems.push(item)\n            else if (state.cartGoodsItems[index].quantity < state.cartGoodsItems[index].count)\n                state.cartGoodsItems[index].quantity++\n        },\n        removeItemFromCart: (state, barCode) =>\n            state.cartGoodsItems = state.cartGoodsItems.filter(item => item.barCode != barCode)\n        ,\n        clearOrderAndRemoveFromCart: state =>\n            state.cartGoodsItems = state.cartGoodsItems.filter(it => !it.checked)\n        ,\n        setCartAllChecked: (state, allChecked) =>\n            state.cartGoodsItems = state.cartGoodsItems\n                .map(it => {\n                    it.checked = allChecked;\n                    return it;\n                })\n        ,\n        reverseCartItemChecked: (state, index) =>\n            state.cartGoodsItems =\n            state.cartGoodsItems.map((it, i) => {\n                if (index == i)\n                    it.checked = !it.checked\n                return it\n            })\n        ,\n        changeQuantity(state, { index, quantity }) {\n\n            // Vue.set(state.cartGoodsItems, index,\n            //     Object.assign({}, state.cartGoodsItems[index], { \"quantity\": quantity }))\n\n            state.cartGoodsItems =\n                state.cartGoodsItems.map((it, i) => {\n                    if (index == i)\n                        it.quantity = quantity\n                    return it\n                })\n\n            console.log(state.cartGoodsItems[index])\n        }\n\n    },\n    actions: {\n\n    }\n\n\n\n}"]}]}