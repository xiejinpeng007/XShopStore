{"remainingRequest":"/Users/jinpengxie/Documents/Vue/peipeipei-vue/node_modules/babel-loader/lib/index.js!/Users/jinpengxie/Documents/Vue/peipeipei-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/jinpengxie/Documents/Vue/peipeipei-vue/src/store.js","dependencies":[{"path":"/Users/jinpengxie/Documents/Vue/peipeipei-vue/src/store.js","mtime":1560411891127},{"path":"/Users/jinpengxie/Documents/Vue/peipeipei-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jinpengxie/Documents/Vue/peipeipei-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jinpengxie/Documents/Vue/peipeipei-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find-index\";\nimport { isUndefined } from \"util\";\nvar store = {\n  cartGoodsItems: [],\n  orderGoodsItems: [],\n  token: null,\n  saveToken: function saveToken(token) {\n    this.token = token;\n  },\n  addItem2Cart: function addItem2Cart(item) {\n    item.quantity = 1;\n    item.checked = true;\n    var index = this.cartGoodsItems.findIndex(function (it) {\n      return it.barCode == item.barCode;\n    });\n    console.log(index);\n    if (index === -1) this.cartGoodsItems.push(item);else if (this.cartGoodsItems[index].quantity < this.cartGoodsItems[index].count) this.cartGoodsItems[index].quantity++;\n  },\n  removeItemFromCart: function removeItemFromCart(barCode) {\n    this.cartGoodsItems = this.cartGoodsItems.filter(function (item) {\n      return item.barCode != barCode;\n    });\n  },\n  addItem2Order: function addItem2Order() {\n    this.orderGoodsItems = this.cartGoodsItems.filter(function (it) {\n      return it.checked;\n    });\n  },\n  clearOrderAndRemoveFromCart: function clearOrderAndRemoveFromCart() {\n    this.orderGoodsItems = [];\n    this.cartGoodsItems = this.cartGoodsItems.filter(function (it) {\n      return !it.checked;\n    });\n  },\n  getTotalPrice: function getTotalPrice() {\n    return this.cartGoodsItems.filter(function (it) {\n      return it.checked == true;\n    }).reduce(function (pre, cur, curIndex, arr) {\n      return pre + cur.salePrice * cur.quantity;\n    }, 0).toFixed(1);\n  }\n};\nexport default {\n  store: store\n};",{"version":3,"sources":["/Users/jinpengxie/Documents/Vue/peipeipei-vue/src/store.js"],"names":["isUndefined","store","cartGoodsItems","orderGoodsItems","token","saveToken","addItem2Cart","item","quantity","checked","index","findIndex","it","barCode","console","log","push","count","removeItemFromCart","filter","addItem2Order","clearOrderAndRemoveFromCart","getTotalPrice","reduce","pre","cur","curIndex","arr","salePrice","toFixed"],"mappings":";AAAA,SAASA,WAAT,QAA4B,MAA5B;AAEA,IAAMC,KAAK,GAAG;AACVC,EAAAA,cAAc,EAAE,EADN;AAEVC,EAAAA,eAAe,EAAE,EAFP;AAGVC,EAAAA,KAAK,EAAE,IAHG;AAKVC,EAAAA,SALU,qBAKAD,KALA,EAKO;AACb,SAAKA,KAAL,GAAaA,KAAb;AACH,GAPS;AASVE,EAAAA,YATU,wBASGC,IATH,EASS;AACfA,IAAAA,IAAI,CAACC,QAAL,GAAgB,CAAhB;AACAD,IAAAA,IAAI,CAACE,OAAL,GAAe,IAAf;AACA,QAAIC,KAAK,GAAG,KAAKR,cAAL,CAAoBS,SAApB,CAA8B,UAAAC,EAAE;AAAA,aAAIA,EAAE,CAACC,OAAH,IAAcN,IAAI,CAACM,OAAvB;AAAA,KAAhC,CAAZ;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACA,QAAIA,KAAK,KAAK,CAAC,CAAf,EAAkB,KAAKR,cAAL,CAAoBc,IAApB,CAAyBT,IAAzB,EAAlB,KACK,IAAI,KAAKL,cAAL,CAAoBQ,KAApB,EAA2BF,QAA3B,GAAsC,KAAKN,cAAL,CAAoBQ,KAApB,EAA2BO,KAArE,EACD,KAAKf,cAAL,CAAoBQ,KAApB,EAA2BF,QAA3B;AACP,GAjBS;AAmBVU,EAAAA,kBAnBU,8BAmBSL,OAnBT,EAmBkB;AACxB,SAAKX,cAAL,GAAsB,KAAKA,cAAL,CAAoBiB,MAApB,CAA2B,UAAAZ,IAAI;AAAA,aAAIA,IAAI,CAACM,OAAL,IAAgBA,OAApB;AAAA,KAA/B,CAAtB;AACH,GArBS;AAuBVO,EAAAA,aAvBU,2BAuBM;AACZ,SAAKjB,eAAL,GAAuB,KAAKD,cAAL,CAAoBiB,MAApB,CAA2B,UAAAP,EAAE;AAAA,aAAIA,EAAE,CAACH,OAAP;AAAA,KAA7B,CAAvB;AACH,GAzBS;AA2BVY,EAAAA,2BA3BU,yCA2BoB;AAC1B,SAAKlB,eAAL,GAAuB,EAAvB;AACA,SAAKD,cAAL,GAAsB,KAAKA,cAAL,CAAoBiB,MAApB,CAA2B,UAAAP,EAAE;AAAA,aAAI,CAACA,EAAE,CAACH,OAAR;AAAA,KAA7B,CAAtB;AACH,GA9BS;AA+BVa,EAAAA,aA/BU,2BA+BM;AACZ,WAAO,KAAKpB,cAAL,CACFiB,MADE,CACK,UAAAP,EAAE;AAAA,aAAIA,EAAE,CAACH,OAAH,IAAc,IAAlB;AAAA,KADP,EAEFc,MAFE,CAGC,UAACC,GAAD,EAAMC,GAAN,EAAWC,QAAX,EAAqBC,GAArB;AAAA,aAA6BH,GAAG,GAAGC,GAAG,CAACG,SAAJ,GAAgBH,GAAG,CAACjB,QAAvD;AAAA,KAHD,EAIC,CAJD,EAMFqB,OANE,CAMM,CANN,CAAP;AAOH;AAvCS,CAAd;AA0CA,eAAe;AAAE5B,EAAAA,KAAK,EAALA;AAAF,CAAf","sourcesContent":["import { isUndefined } from \"util\";\n\nconst store = {\n    cartGoodsItems: [],\n    orderGoodsItems: [],\n    token: null,\n\n    saveToken(token) {\n        this.token = token\n    },\n\n    addItem2Cart(item) {\n        item.quantity = 1;\n        item.checked = true;\n        var index = this.cartGoodsItems.findIndex(it => it.barCode == item.barCode)\n        console.log(index)\n        if (index === -1) this.cartGoodsItems.push(item)\n        else if (this.cartGoodsItems[index].quantity < this.cartGoodsItems[index].count)\n            this.cartGoodsItems[index].quantity++\n    },\n\n    removeItemFromCart(barCode) {\n        this.cartGoodsItems = this.cartGoodsItems.filter(item => item.barCode != barCode)\n    },\n\n    addItem2Order() {\n        this.orderGoodsItems = this.cartGoodsItems.filter(it => it.checked)\n    },\n\n    clearOrderAndRemoveFromCart() {\n        this.orderGoodsItems = [];\n        this.cartGoodsItems = this.cartGoodsItems.filter(it => !it.checked);\n    },\n    getTotalPrice() {\n        return this.cartGoodsItems\n            .filter(it => it.checked == true)\n            .reduce(\n                (pre, cur, curIndex, arr) => pre + cur.salePrice * cur.quantity,\n                0\n            )\n            .toFixed(1);\n    }\n}\n\nexport default { store }"]}]}